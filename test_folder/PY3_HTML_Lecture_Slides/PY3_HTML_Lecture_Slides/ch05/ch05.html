<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="generator" content="HTML Tidy for Linux/x86 (vers 1st November 2003), see www.w3.org" />
    <title>Chapter 5, Python for Everyone, 2e</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="font-size-adjustment" content="-1" />
    <meta name="copyright"
          content="Copyright &#169; 2015 Wiley" />
    <link rel="stylesheet" href="styles/slidy.css" type="text/css" />
    <link rel="stylesheet" href="styles/horstmann.css" type="text/css" />
</head>
<body>
    <div class="background">
        <div class="slide ppLayoutCustom">
    <div><p class="title" >Chapter Five: Functions</p><br />
</div>
<div><img src='images/slide1-Subtitle4.png' /></div>



</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Chapter Goals</p><br />
</div>
<div><ul><li>To be able to implement functions
</li><li>To become familiar with the concept of parameter passing
</li><li>To develop strategies for decomposing complex tasks into simpler ones
</li><li>To be able to determine the scope of a variable
</li><li>To learn how to think recursively
</li></ul></div>
<div><p class="" ><em><strong><span class="fontColorClass2">In this chapter, you will learn how to design and implement your own functions 
<br />Using the process of stepwise refinement, you will be able to break up complex tasks into sets of cooperating functions
</span></strong></em></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Contents</p><br />
</div>
<div><ul><li>Functions as Black Boxes
</li><li>Implementing and Testing Functions
</li><li>Parameter Passing
</li><li>Return Values
</li><li>Functions without Return Values
</li><li>Reusable Functions
</li><li>Stepwise Refinement
</li><li>Variable Scope
</li><li>Graphics:  Building an Image Processing Toolkit
</li><li>Recursive Functions
</li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Functions as Black Boxes</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.1</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Functions as Black Boxes</p><br />
</div>
<div><ul><li>A function<strong> </strong>is a sequence of instructions with a name
</li><li>For example, the <code>round</code> function, which was introduced in Chapter 2, contains instructions to round a floating-point value to a specified number of decimal places
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Calling Functions</p><br />
</div>
<div><ul><li>You <em>call</em> a function in order to execute its instructions
</li></ul><p><code>price = round(6.8275, 2) # Sets result to 6.83
</code></p><ul><li>By using the expression <code>round(6.8275, 2)</code>, your program <em>calls</em> the <code>round</code> function, asking it to round 6.8275 to two decimal digits
<ul></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Calling Functions (2)</p><br />
</div>
<div><ul><li>The <code>round</code> function <em>returns</em> its result back to where the function was called and your program resumes execution
</li></ul><ul></ul></div>
<div><img src='images/slide7-Picture5.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Function Arguments</p><br />
</div>
<div><ul><li>When another function calls the <code>round</code> function, it provides "inputs", such as the values <code>6.8275</code> and <code>2</code> in the call <code>round(6.8275, 2)</code> 
</li><li>These values are called the <strong>arguments</strong> of the function call
<ul><li>Note that they are not necessarily inputs provided by a human user 
</li><li>They are the values for which we want the function to compute a result
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Function Arguments</p><br />
</div>
<div><ul><li>Functions can receive multiple arguments or it is also possible to have functions with no arguments
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Function Return Values</p><br />
</div>
<div><ul><li>The "output" that the round function computes is called the <strong>return value</strong>
</li><li>Functions return only one value
</li><li>The return value of a function is returned to the point in your program where the function was called
</li></ul><p><code>price = round(6.8275, 2)
</code></p><ul><li>When the round function returns its result, the return value is stored in the variable <code>price</code> statement)</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Function Return Values (2)</p><br />
</div>
<div><ul><li>Do not confuse returning a value with producing program output which is produced when using a <code>print()</code> statement</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Black Box Analogy</p><br />
</div>
<div><ul><li>A thermostat is a 'black box'
<ul><li>Set a desired temperature
</li><li>Turns on heater/AC as required
</li><li>You don't have to know how it really works!
<ul><li>How does it know the current temp?
</li><li>What signals/commands does it send to the heater or A/C?
</li></ul></li><li>Use functions like 'black boxes'
<ul><li>Pass the function what it needs to do its job
</li><li>Receive the answer
</li></ul></li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >The <code>round</code> Function as a Black Box</p><br />
</div>
<div><ul><li>You pass the round function its necessary arguments (6.8275 &amp; 2) and it produces its result (6.83)
</li></ul></div>
<div><img src='images/slide13-Picture5.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >The <code>round</code> Function as a Black Box</p><br />
</div>
<div><ul><li>You may wonder how the round function performs its job 
</li><li>As a user of the function, you don't need to know how the function is implemented
</li><li>You just need to know the specification of the function: 
<ul><li>If you provide arguments x and n, the function returns x rounded to n decimal digits
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Designing Your Own Functions</p><br />
</div>
<div><ul><li>When you design your own functions, you will want to make them appear as black boxes to other programmers
<ul><li>Even if you are the only person working on a program, making each function into a black box pays off: there are fewer details that you need to keep in mind
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Implementing and Testing Functions</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.2</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Implementing and Testing Functions</p><br />
</div>
<div><ul><li>A function to calculate the volume of a cube
<ul><li>What does it need to do its job?
</li><li>What does it answer with?
</li></ul></li><li>When writing ('defining') this function
<ul><li>Pick a name for the function (<code>cubeVolume</code>)
</li><li>Declare a variable for each incoming argument
</li></ul><p class="object" >  (<code>sideLength</code>) (called parameter variables)
</p>
<ul><li>Put all this information together along with the def keyword to form the first line of the function's definition:
</li></ul></li></ul></div>
<div><p class="" ><code>def cubeVolume(sideLength):</code> &nbsp;&nbsp; This line is called the <strong>header</strong> of the function
</p><br /></div>





</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Testing a Function</p><br />
</div>
<div><ul><li>If you run a program containing just the function definition, then nothing happens
<ul><li>After all, nobody is calling the function
</li></ul></li><li>In order to test the function, your program should contain
<ul><li>The definition of the function
</li><li>Statements that call the function and print the result
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Calling/Testing the Cube Function</p><br />
</div>
<div><p class="" >Implementing the function (function definition)
</p><br /></div>
<div><pre>def cubeVolume(sideLength) :
    volume = sideLength ** 3
    return volume
</pre></div></br>
<div><p class="" >Calling/testing the function
</p><br /></div>
<div><pre>result1 = cubeVolume(2)
result2 = cubeVolume(10)
print("A cube with side length 2 has volume", result1)
print("A cube with side length 10 has volume", result2)</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Syntax: Function Definition</p><br />
</div>
<div><img src='images/slide20-Picture1.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Programming Tip: Function Comments</p><br />
</div>
<div><ul><li>Whenever you write a function, you should <em>comment</em> its behavior 
</li><li>Remember, comments are for human readers, not compilers
</li></ul></div>
<div><pre>## Computes the volume of a cube.
# @param sideLength the length of a side of the cube
# @return the volume of the cube
#
def cubeVolume(sideLength) :
    volume = sideLength ** 3
    return volume</pre></div>
<div><p class="" ><em><strong>Function comments explain the purpose of the function, the meaning of the parameter variables and the return value, as well as any special requirements
</strong></em></p><br /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Cubes.py with Documentation</p><br />
</div>
<div><pre>##
#  This program computes the volumes of two cubes.
#

def main() :
   result1 = cubeVolume(2)
   result2 = cubeVolume(10)
   print("A cube with side length 2 has volume", result1)
   print("A cube with side length 10 has volume", result2)
   
## Computes the volume of a cube.
#  @param sideLength the length of a side of the cube
#  @return the volume of the cube
#
def cubeVolume(sideLength) :
   volume = sideLength ** 3
   return volume
   
# Start the program.
main()
</pre></div>
<div class="incremental"><p>Program Run
</br>
<code>A cube with side length 2 has volume 8
</code></br><code>A cube with side length 10 has volume 1000
</code></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Cubes.py</p><br />
</div>
<div><ul><li>Open the file Cubes.py in Wing
</li><li>The files contains to functions:
<ul><li><code>main</code>
</li><li><code>cubeVolume</code>
</li></ul></li><li>Line 20 contains the call to the function <code>main</code>
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >The <code>main</code> Function</p><br />
</div>
<div><ul><li>When defining and using functions in Python, it is good programming practice to place all statements into functions, and to specify one function as the starting point
</li><li>Any legal name can be used for the starting point, but we chose 'main' since it is the required function name used by other common languages
</li><li>Of course, we must have one statement in the program that calls the main function
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Syntax: The <code>main</code> Function </p><br />
</div>
<div><img src='images/slide25-ContentPlaceholder5.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Using Functions: Order (1)</p><br />
</div>
<div><ul><li>It is important that you define any function before you call it 
</li><li>For example, the following will produce a compile-time error:
</li></ul><pre>print(cubeVolume(10))
def cubeVolume(sideLength) :
    volume = sideLength ** 3
    return volume
</pre><ul><li>The compiler does not know that the <code>cubeVolume</code> function will be defined later in the program
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Using Functions: Order (2)</p><br />
</div>
<div><ul><li>However, a function can be called from within another function before the former has been defined 
</li><li>The following is perfectly legal:
</li></ul><pre>def main() :
    result = cubeVolume(2)
    print("A cube with side length 2 has volume", 
      result)

def cubeVolume(sideLength) :
    volume = sideLength ** 3
    return volume

main()
</pre><ul></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Parameter Passing</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.3</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Parameter Passing</p><br />
</div>
<div><ul><li><span class="fontColorClass7">Parameter variables</span> receive the <span class="fontColorClass5">argument values</span> supplied in the function call
</li><li>The <span class="fontColorClass5">argument value</span> may be:
<ul><li>The contents of a variable
</li><li>A 'literal' value (2)
<ul><li>Aka, 'actual parameter' or argument
</li></ul></li><li>The <span class="fontColorClass7">parameter variable</span> is:
<ul><li>Declared in the called function 
</li><li>Initialized with the value of the <span class="fontColorClass5">argument value 
</span></li><li>Used as a variable inside the called function
<ul><li>Aka, 'formal parameter' 
</li></ul></li></ul></li></ul></li></ul></div>
<div style="position:absolute;top:28%;left:95%;"><img src='images/slide29-DownArrow2.png' /></div>
<div style="position:absolute;top:21.7%;left:85%;"><img src='images/slide29-RoundedRectangle1.png' /></div>
<div style="position:absolute;top:29%;left:73%;"><p class="" ><span class="fontColorClass5">Argument value</span></p></div>
<div style="position:absolute;top:38%;left:70%;"><p class="" ><span class="fontColorClass7">Parameter variable</span></p><br />
</div>
<div style="position:absolute;top:43%;left:85%;"><img src='images/slide29-RoundedRectangle9.png' /></div>
<div style="position:absolute;top:40%;left:95%;"><img src='images/slide29-RoundedRectangle3.png' /></div>



</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Parameter Passing Steps </p><br />
</div>
<div style="width:60%;"><pre>result1 = cubeVolume(2)</pre></div>
<div class="incremental" style="position:fixed;top:9.7%;left:40%;z-index:1;"><img src='images/slide30-Picture7.png' /></div>
<div class="incremental" style="position:fixed;top:9.7%;left:40%;z-index:2;"><img src='images/slide30-Picture11.png' /></div>
</br></br>
<div style="width:60%;"><pre>def cubeVolume(sideLength):
   volume = sideLength * 3
   return volume
</pre></div>
<div class="incremental" style="position:fixed;top:23.5%;left:40%;z-index:1;"><img src='images/slide30-Picture8.png' /></div>
<div class="incremental" style="position:fixed;top:23.5%;left:40%;z-index:2;"><img src='images/slide30-Picture9.png' /></div>
<div class="incremental" style="position:fixed;top:23.5%;left:40%;z-index:3;"><img src='images/slide30-Picture10.png' /></div>

</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Common Error 5.1</p><br />
</div>
<div><ul><li>Trying to modify parameter variables
</li><li>A copy of the argument values is passed (the <em><strong>Value</strong></em> is passed)
<ul><li>Called function <code>addTax</code> can modify local copy (<code>price</code>)
</li></ul></li></ul></div>
<div><img src='images/slide31-Group3.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Programming Tip 5.2</p><br />
</div>
<div><ul><li>Do not modify parameter variables
</li></ul><ul></ul></div>
<div class="incremental"><p>Many programmers find this practice confusing
</p><br /></div>
<div class="incremental"><pre>def totalCents(dollars, cents) :
    cents = dollars * 100 + cents # Modifies parameter variable.
    return cents
</pre></div>
<div class="incremental"><p class="" >To avoid the confusion, simply introduce a separate variable:
</p><br /></div>
<div class="incremental"><pre>def totalCents(dollars, cents) :
    result = dollars * 100 + cents
    return result
</pre></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Return Values</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.4</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Return Values</p><br />
</div>
<div><ul><li>Functions can (optionally) return one value
<ul><li>Add a <strong>return statement</strong> that returns a value
<ul><li>A return statement does two things:
<ul><li class="decimal">Immediately terminates the function
</li><li class="decimal">Passes the return value back to the calling function
</li></ul></li></ul></li></ul></li></ul></div>
<div><pre>def cubeVolume (sideLength):
   volume = sideLength * 3
   return volume
</pre></div>
<div style="position:absolute;top:40%;left:6%;"><img src='images/slide34-LeftBrace10.png' /></div>
<div style="position:absolute;top:43%;left:5%;"><p class="" ><span class="fontColorClass6">return statement</span></p><br />
</div></br></br>
<div><p class="" ><em><strong>The return value may be a value, a variable or a calculation
</strong></em></p><br /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Multiple <code>return</code> Statements</p><br />
</div>
<div><ul><li>A function can use multiple <code>return</code> statements
<ul><li>But every branch must have a <code>return</code> statement
</li></ul></li></ul></div>
<div><img src='images/slide35-Picture8.png' /></div>
<div><pre>def cubeVolume(sideLength):
  if (sideLength &lt; 0): 
     return 0 
  return sideLength * 3
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Multiple <code>return</code> Statements (2)</p><br />
</div>
<div><ul><li>Alternative to multiple returns (e.g., one for each branch):
<ul><li>You can avoid multiple returns by storing the function result in a variable that you return in the last statement of the function 
</li><li>For example:
</li></ul></li></ul></div>
<div><pre>def cubeVolume(sideLength) :
    if sideLength &gt;= 0:
        volume = sideLength ** 3
    else :
        volume = 0
    return volume
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Make Sure a <code>return</code> Catches All Cases</p><br />
</div>
<div><ul><li>Missing <code>return</code> statement
<ul><li>Make sure all conditions are handled
</li><li>In this case, <code>sideLength</code> could be equal to 0
<ul><li>No <code>return</code> statement for this condition
</li><li>The compiler will <em>not</em> complain if any branch has no <code>return</code> statement
</li><li>It may result in a run-time error because Python returns the special value <code>None</code> when you forget to return a value</li></ul></li></ul></li></ul></div>
<div><pre>def cubeVolume(sideLength) :
    if sideLength &gt;= 0 :
        return sideLength ** 3
    # Error—no return value if sideLength &lt; 0
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Make Sure a <code>return</code> Catches All Cases (2)</p><br />
</div>
<div><ul><li>A correct implementation:
</li></ul></div>
<div><pre>def cubeVolume(sideLength) :
    if sideLength &gt;= 0
        return sideLength ** 3
    else :
        return 0
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Implementing a Function: Steps</p><br />
</div>
<div><ul><li class="decimal">Describe what the function should do
<ul><li class="lower-roman">Provide a simple "liberal arts terms" description of what the functions does
</li><li class="lower-roman">"Compute the volume of a pyramid with a square base"
</li></ul></li><li class="decimal">Determine a list of all of the function's inputs
<ul><li class="lower-roman">Make a list of <em><strong>all</strong></em> of the parameters that can vary
</li><li class="lower-roman">Do not be overly specific
</li></ul></li><li class="decimal">Determine the types of the parameter variables and the return value
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Implementing a Function: Steps</p><br />
</div>
<div><ul><li class="decimal">Write pseudocode for obtaining the desired result
<ul><li class="lower-roman">Express an mathematical formulas, branches and loops in pseudocode
</li></ul></li><li class="decimal">Implement the function body
</li></ul></div>
<div><pre>def pyramidVolume(height, baseLength) :
    baseArea = baseLength * baseLength
    return height * baseArea / 3
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Implementing a Function: Steps</p><br />
</div>
<div><p class="object" >
</p>
<ul><li class="decimal">Test your function
<ul><li class="lower-roman">Design test cases and code
</li></ul></li></ul></div>
<div><img src='images/slide41-Picture7.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Pyramids.py</p><br />
</div>
<div><ul><li>Open the file pyramids.py
</li><li>Look at how the <code>main</code> function is set up to make the calls to <code>pyramidVolume</code> and print the expected results</li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Functions Without Return Values</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.5</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Functions Without Return Values</p><br />
</div>
<div><ul><li>Functions are not required to return a value
<ul><li>No <code>return</code> statement is required
</li><li>The function can generate output even when it doesn't have a return value
</li></ul></li></ul></div>
<div><pre>...
boxString("Hello")
...
</pre></div>
<div><pre>def boxString(contents) :
    n = len(contents) :
    print("-" * (n + 2))
    print("!" + contents + "!")
    print("-" * (n + 2))
</pre></div>
<div><img src='images/slide44-Picture7.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Using <code>return</code> Without a Value</p><br />
</div>
<div><ul><li>You can use the <code>return</code> statement without a value
<ul><li>The function will terminate immediately!
</li></ul></li></ul></div>
<div><pre>def boxString(contents) :
    n = len(contents)
    if n == 0 :
        return # Return immediately
    print("-" * (n + 2))
    print("!" + contents + "!")
    print("-" * (n + 2))
</pre></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Reusable Functions</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.6</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Problem Solving:  Reusable Functions</p><br />
</div>
<div><ul><li><strong>Find repetitive code
</strong><ul><li>May have different values but same logic </li></ul>
<pre>hours = int(input("Enter a value between 0 and 23: "))
while hours &lt; 0 or hours &gt; 23 :
    print("Error: value out of range.")
    hours = int(input("Enter a value between 0 and 23: "))
    

minutes = int(input("Enter a value between 0 and 59: "))
while minutes &lt; 0 or minutes &gt; 59 :
    print("Error: value out of range.")
    minutes = int(input("Enter a value between 0 and 59: "))
</pre></li></ul></div>
<div class="incremental" style="position:absolute;top:24%;left:2%;"><img style="width:100px;height:70px;" src='images/slide47-RightArrow7.png' /></div>
<div class="incremental" style="position:absolute;top:39%;left:2%;"><img style="width:100px;height:70px;" src='images/slide47-RightArrow8.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Write a 'Parameterized' Function</p><br />
</div>
<div><p class="object" >
</p>
<p class="object" >
</p>
<p class="object" >
</p>
<ul></ul><ul></ul></div>
<div><pre>## Prompts a user to enter a value up to a given maximum until the user provides
# a valid input.
# @param high an integer indicating the largest allowable input
# @return the integer value provided by the user (between 0 and high, inclusive)
#
def readIntUpTo(high) :
    value = int(input("Enter a value between 0 and " + str(high) + ": "))
    while value &lt; 0 or value &gt; high :
        print("Error: value out of range.")
    value = int(input("Enter a value between 0 and " + str(high) + ": "))

    return value
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Readtime.py</p><br />
</div>
<div><ul><li>Open the file readtime.py
</li><li>Test the program with several inputs
<ul><li>How would you modify your project to use the <code>readInBetween</code> function?
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >An Alternate <code>if</code> Structure</p><br />
</div>
<div><ul><li>Open the file earthquake.py
</li><li>The file contains two functions that solve the Richter scale problem from earlier this semester
<ul><li>The first uses an <code>if – elif</code> construct
</li><li>The second uses single-line compound statements (Special Topic 5.1, p. 256)
</li><li>This form of an <code>if</code> statement is very useful in functions that select and return a single value from a set of values</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Stepwise Refinement</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.7</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Stepwise Refinement</p><br />
</div>
<div><ul><li>To solve a difficult task, break it down into simpler tasks 
</li><li>Then keep breaking down the simpler tasks into even simpler ones, until you are left with tasks that you know how to solve</li></ul><ul></ul><ul></ul></div>
<div><img src='images/slide52-Picture7.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Get Coffee</p><br />
</div>
<div><ul><li>If you must make coffee, there are two ways:
<ul><li>Make instant coffee
</li><li>Brew coffee
</li></ul></li></ul></div>
<div style="position:absolute;top:28%;left:2%;"><img src='images/slide53-Picture2.png' /></div>
<div style="position:absolute;top:34%;left:42.5%;"><img src='images/slide53-Picture3.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Instant Coffee</p><br />
</div>
<div><ul><li>Two ways to boil water
<p class="object" >1) Use microwave
</p><p class="object" >2) Use kettle on stove
</p><ul></ul></li></ul><ul></ul></div>
<div style="position:absolute;top:5%;left:55%;"><img src='images/slide54-Picture3.png' /></div>
<div style="position:absolute;top:26.3%;left:60.9%;"><img src='images/slide54-Picture2.png' /></div>
<div style="position:absolute;top:31.3%;left:18%;"><img src='images/slide54-Picture4.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Brew Coffee</p><br />
</div>
<div><ul><li>Assumes coffee maker
<ul><li>Add water
</li><li>Add filter
</li><li>Grind coffee
<ul><li>Add beans to grinder
</li><li>Grind 60 seconds
</li></ul></li><li>Fill filter with ground coffee
</li><li>Turn coffee maker on
</li></ul></li><li>Steps are easily done
</li></ul><ul></ul></div>
<div style="position:absolute;top:5%;left:55%;"><img src='images/slide55-Picture2.png' /></div>
<div style="position:absolute;top:36.7%;left:67.2%;"><img src='images/slide55-Picture3.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Stepwise Refinement Example</p><br />
</div>
<div><ul><li>When printing a check, it is customary to write the check amount both as a number ("$274.15") and as a text string ("two hundred seventy four dollars and 15 cents") 
</li><li>Write a program to turn a number into a text string
</li><li>Wow, sounds difficult!
</li><li>Break it down
<ul><li>Let's take the dollar part (274) and come up with a plan
</li><li>Take an Integer from 0 – 999
</li><li>Return a String
</li><li>Still pretty hard…
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Stepwise Refinement Example</p><br />
</div>
<div><ul><li>Take it digit by digit (2, 7, 4) – left to right
</li><li>Handle the first digit (hundreds)
<ul><li>If empty, we are done with hundreds; if not...
</li><li>Get first digit (integer from 1 – 9)
</li><li>Get digit name ("one", "two", "three", etc.) 
</li><li>Add the word "hundred"
</li><li>Sounds easy!
</li></ul></li><li>Second digit (tens)
<ul><li>Get second digit (integer from 0 – 9)
</li><li>If 0, we are done with tens…move to third digit
</li><li>If 1, it may be eleven, twelve...teens...Not easy!
<ul><li>Let's look at each possibility left (1x-9x)
</li></ul></li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Stepwise Refinement Example: Continued</p><br />
</div>
<div><ul><li>If second digit is a 0
<ul><li>Get third digit (integer from 0 – 9)
</li><li>Get digit name ("", "one", "two", etc.) Same as before?
</li><li>Sounds easy!
</li></ul></li><li>If second digit is a 1
<ul><li>Get third digit (Integer from 0 – 9)
</li><li>Return a String ("ten", "eleven", "twelve", etc.)
</li></ul></li><li>If second digit is a 2-9
<ul><li>Start with string "twenty", "thirty", "forty"…
</li><li>Get third digit (Integer from 0 – 9)
</li><li>Get digit name ("", "one", "two", etc.)   … Same as before
</li><li>Sounds easy!
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Stepwise Refinement Example: Name the Sub-Tasks</p><br />
</div>
<div><ul><li>digitName
<ul><li>Takes an integer from 0 – 9
</li><li>Return a string ("", "one", "two", etc.)
</li></ul></li><li>tensName (second digit &gt;= 20)
<ul><li>Takes an integer from 0 – 9
</li><li>Return a string ("twenty", "thirty", etc.) plus
<ul><li>digitName(third digit) 
</li></ul></li><li>teenName
<ul><li>Takes an integer from 0 – 9
</li><li>Return a string ("ten", "eleven", etc.)
</li></ul></li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Write Pseudocode</p><br />
</div>
<div><pre class="pseudo">part = number (The part that still needs to be converted)
name = "" (The name of the number)
If part &gt;= 100
  name = name of hundreds in part + " hundred"
  Remove hundreds from part
If part &gt;= 20
  Append tensName(part) to name
  Remove tens from part
Else if part &gt;= 10
  Append teenName(part) to name
  part = 0
If (part &gt; 0)
  Append digitName(part) to name
</pre>
</div>
<div><p class="" ><em><strong>Identify functions that we can use (or re-use!) to do the work
</strong></em></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Plan The Functions</p><br />
</div>
<div><ul><li>Decide on name, parameter(s) and types and return type
</li><li>def intName (number):
<ul><li>Turns a number into its English name
</li><li>Returns a String that is the English description of a number (e.g., "seven hundred twenty nine")
</li></ul></li><li>def digitName (digit):
<ul><li>Return a String ("", "one", "two", etc.)
</li></ul></li><li>def tensName (number):
<ul><li>Return a String ("twenty", "thirty", etc.) plus
<ul><li>Return from digitName(thirdDigit)
</li></ul></li><li>def teenName (number):
<ul><li>Return a String ("ten", "eleven", etc.)
</li></ul></li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Convert to Python:  <code>intName</code> Function</p><br />
</div>
<div><ul><li>Open the file intname.py in Wing
</li><li><code>main</code> calls <code>intName</code>
<ul><li>Does all the work
</li><li>Returns a string
</li></ul></li><li>Uses functions:
<ul><li><code>tensName
</li><li>teenName
</li><li>digitName
</code></li></ul></li></ul></div>
<div><pre>def main() :
   value = int(input("Please enter a positive integer < 1000: "))
   print(intName(value))
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Code: <code>intName</code></p><br />
</div>
<div><pre>def intName(number) :
   part = number   # The part that still needs to be converted.
   name = ""   # The name of the number. 

   if part >= 100 :
      name = digitName(part // 100) + " hundred"
      part = part % 100

   if part >= 20 :
      name = name + " " + tensName(part)
      part = part % 10
   elif part >= 10 :
      name = name + " " + teenName(part)
      part = 0

   if part > 0 :
      name = name + " " + digitName(part)

   return name
</pre></div>





</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Code: <code>digitName</code></p><br />
</div>
<div><pre>def digitName(digit) :
   if digit == 1 : return "one"
   if digit == 2 : return "two"
   if digit == 3 : return "three"
   if digit == 4 : return "four"
   if digit == 5 : return "five"
   if digit == 6 : return "six"
   if digit == 7 : return "seven"
   if digit == 8 : return "eight"
   if digit == 9 : return "nine"
   return ""
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Code: <code>teenName</code></p><br />
</div>
<div><pre>def teenName(number) :
   if number == 10 : return "ten"
   if number == 11 : return "eleven"
   if number == 12 : return "twelve"
   if number == 13 : return "thirteen"
   if number == 14 : return "fourteen"
   if number == 15 : return "fifteen"
   if number == 16 : return "sixteen"
   if number == 17 : return "seventeen"
   if number == 18 : return "eighteen"
   if number == 19 : return "nineteen"
   return ""
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Code: <code>tensName</code></p><br />
</div>
<div><pre>def tensName(number) :
   if number >= 90 : return "ninety"
   if number >= 80 : return "eighty"
   if number >= 70 : return "seventy"
   if number >= 60 : return "sixty"
   if number >= 50 : return "fifty"
   if number >= 40 : return "forty"
   if number >= 30 : return "thirty"
   if number >= 20 : return "twenty"
   return ""
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Programming Tips</p><br />
</div>
<div><ul><li>Keep functions short
<ul><li>If more than one screen, break into 'sub' functions
</li></ul></li><li>Trace your functions
<ul><li>One line for each step
</li><li>Columns for key variables
</li></ul></li><li>Use Stubs as you write larger programs
<ul><li>Unfinished functions that return a 'dummy' value
</li></ul></li></ul></div>
<div><img src='images/slide67-Picture9.png' /></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Variable Scope</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.8</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Variable Scope</p><br />
</div>
<div><ul><li>Variables can be declared:
<ul><li>Inside a function:
<ul><li>Known as 'local variables'
</li><li>Only available inside this function
</li><li>Parameter variables are like local variables 
</li></ul></li><li>Outside of a function:
<ul><li>Sometimes called 'global scope'
</li><li>Can be used (and changed) by code in any function
</li></ul></li><li>How do you choose?
</li></ul></li></ul></div>
<div><p class="" ><em><strong>The scope of a variable is the part of the program in which it is visible
</strong></em></p><br /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Examples of Scope</p><br />
</div>
<div><ul><li><code>sum, </code><code>square</code> &amp; <code>i</code> are local variables in <code>main</code>
</li></ul><ul></ul></div>
<div><img src='images/slide70-Group4.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Local Variables of Functions</p><br />
</div>
<div><ul><li>Variables declared inside one function are not visible to other functions 
<ul><li><code>sideLength</code> is local to <code>main</code> 
</li><li>Using it outside <code>main</code> will cause a compiler error
</li></ul></li></ul></div>
<div><pre>def main():
   sideLength = 10
   result = cubeVolume()
   print(result)

def cubeVolume():
  return sideLength * sideLength * sideLength # ERROR
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Re-Using Names for Local Variables</p><br />
</div>
<div><ul><li>Variables declared inside one function are not visible to other functions 
<ul><li><span class="fontColorClass5">result</span> is local to square and <span class="fontColorClass7">result</span> is local to main 
</li><li>They are two different variables and do not overlap
</li><li>This can be very confusing</li></ul></li></ul><ul></ul></div>
<div><img src='images/slide72-Group3.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Global Variables</p><br />
</div>
<div><ul><li>They are variables that are defined outside functions
</li><li>A global variable is visible to all functions that are defined after it
</li><li>However, any function that wishes to use a global variable must include a global declaration
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Example Use of a Global Variable</p><br />
</div>
<div><ul><li>If you omit the global declaration, then the <code>balance</code> variable inside the <code>withdraw</code> function is considered a local variable
</li></ul></div>
<div><pre>balance = 10000    # A global variable
def withdraw(amount) :
    # This function intends to access the 
    # global 'balance' variable
    global balance 
    if balance &gt;= amount :
        balance = balance - amount
</pre></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Programming Tip</p><br />
</div>
<div><ul><li>There are a few cases where global variables are required (such as <code>pi</code> defined in the math module), but they are quite rare
</li><li>Programs with global variables are difficult to maintain and extend because you can no longer view each function as a "black box" that simply receives arguments and returns a result
</li><li>Instead of using global variables, use function parameter variables and return values to transfer information from one part of a program to another
</li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Graphics:  Building an Image Processing Toolkit</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.9</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Building Your Own Tools</p><br />
</div>
<div><ul><li>As we learned earlier, Python's standard libraries contain a large collection of function and classes
<ul><li>You import a module (containing functions and / or classes) into your program if you need it
</li></ul></li><li>What do you do when the standard libraries don't have what you need?
<ul><li>You create your own collection of tools and organize them into modules or a <em>software toolkit</em>
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Creating Your Toolkit</p><br />
</div>
<div><ul><li>The tools of functions in the toolkit should all be related
<ul><li>The function names should be easy to remember
</li><li>The parameters should be as consistent as possible
</li></ul></li><li>Place the functions in a separate file
</li><li>Import them into your programs as needed
</li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Recursive Functions</span></p><br />
</div>
<div><p class="body" ><span class="fontColorClass4">Section 5.10</span></p><br />
</div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Recursive Functions</p><br />
</div>
<div><ul><li>A recursive function is a function that calls itself
</li><li>A recursive computation solves a problem by using the solution of the same problem with simpler inputs
</li><li>For a recursion to terminate, there must be special cases for the simplest inputs
</li></ul></div>
<div><img src='images/slide80-ContentPlaceholder2.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Recursive Triangle Example</p><br />
</div>
<div><img src='images/slide81-Group3.png' /></div>
<div><ul><li>The function will call itself (and not output anything) until <code>sideLength</code> becomes &lt; 1
</li><li>It will then use the return statement and each of the previous iterations will print their results
<ul><li>1, 2, 3 then 4
</li></ul></li></ul></div>
<div><img src='images/slide81-Picture1.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Recursive Calls and Returns</p><br />
</div>
<div><img src='images/slide82-Picture2.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >A Second Example</p><br />
</div>
<div><ul><li>Open the file digits.py
</li><li>This program computes the sum of the digits in a number (n) 
<ul><li>We solved this last chapter in Section 4.2  
</li><li>We will use n = 1729 as our example
</li></ul></li><li>Our algorithm was:
<ul><li>Remove the last digit by computing <code>n // 10</code> and add the remainder to our total
</li><li>To use recursion we can use the recursive function:
<ul><li><code>digitsum(n // 10) + n % 10</code>
</li><li>Our special case is <code>n == 0</code> to terminate the recursion
</li></ul></li></ul></li></ul></div>




</div>
<div class="slide ppLayoutSectionHeader">
    <div><p class="title" ><span class="fontColorClass3">Summary</span></p><br />
</div>
<div><img src='images/slide84-TextPlaceholder6.png' /></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Summary:  Functions</p><br />
</div>
<div><ul><li>A <strong>function</strong> is a named sequence of instructions
</li><li><strong>Arguments</strong> are supplied when a function is called
</li><li>The <strong>return value</strong> is the result that the function computes
</li><li>When declaring a function, you provide a name for the function and a variable for each argument
</li><li>Function comments explain the purpose of the function, the meaning of the parameters and return value, as well as any special requirements
</li><li><strong>Parameter variables</strong> hold the arguments supplied in the function call
</li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Summary: Function Returns</p><br />
</div>
<div><ul><li>The <code>return</code> statement terminates a function call and yields the function result
<ul><li>Complete computations that can be reused into functions
</li></ul></li><li>Use the process of stepwise refinement to decompose complex tasks into simpler ones
<ul><li>When you discover that you need a function, write a description of the parameter variables and return values
</li><li>A function may require simpler functions to carry out its work
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Summary: Scope</p><br />
</div>
<div><ul><li>The <strong>scope</strong> of a variable is the part of the program in which the variable is visible
<ul><li>Two local or parameter variables can have the same name, provided that their scopes do not overlap
</li><li>You can use the same variable name within different functions since their scope does not overlap
</li><li>Local variables declared inside one function are not visible to code inside other functions
</li></ul></li></ul></div>




</div>
<div class="slide ppLayoutObject">
    <div><p class="title" >Summary: Recursion</p><br />
</div>
<div><ul><li>A recursive computation solves a problem by using the solution of the same problem with simpler inputs
<ul><li>For recursion to terminate, there must be special cases for the simplest inputs
</li><li>The key to finding a recursive solution is reducing the input to a simpler input for the same problem
</li><li>When designing a recursive solution, do not worry about multiple nested calls  
<ul><li>Simply focus on reducing a problem to a slightly simpler one
</li></ul></li></ul></li></ul></div>




</div>

    </div>
    <script src="scripts/jquery-2.1.4.min.js" charset="utf-8" type="text/javascript"></script>
    <script src="scripts/slidy.js" charset="utf-8" type="text/javascript"></script>
    
</body>
</html>